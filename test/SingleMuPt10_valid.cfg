process ValidationSimDigiChain  = {
    
    #
    # Master configuration for the magnetic field
    include "Configuration/StandardSequences/data/MagneticField.cff"
    
    # Geometry master configuration
    #
    include "Configuration/StandardSequences/data/Geometry.cff"
    
    include "Configuration/StandardSequences/data/Services.cff"
    include "Configuration/StandardSequences/data/FakeConditions.cff" 
    include "FWCore/MessageService/data/MessageLogger.cfi"

    untracked PSet maxEvents = {untracked int32 input = -1}

    source = PoolSource {
    untracked vstring fileNames = {'file:MU-_pt10_ALL.root'}
    untracked string catalog = 'PoolFileCatalog.xml'
    }

    include "Configuration/EventContent/data/EventContent.cff"
    module o1 = PoolOutputModule { 
          using FEVTSIMDIGIEventContent
	      untracked string fileName = "MU-_pt10_ALL_valid.root"      
    }

    # re-create the CrossingFrame
    include "SimGeneral/MixingModule/data/mixNoPU.cfi"
    replace mix.playback = true
    
    # Global packages for SIM and DIGI
    #
    include "Validation/GlobalHits/data/globalhits_analyze.cfi"
    include "Validation/GlobalDigis/data/globaldigis_analyze.cfi"
    include "Validation/GlobalRecHits/data/globalrechits_analyze.cfi"

    # tracker validation sequences
    #
    include "Validation/Configuration/data/trackerSimValid.cff" 
    
    # muon validation sequences
    #
    include "Validation/Configuration/data/muonSimValid.cff"

    include "DQMServices/Components/data/MEtoEDMConverter.cfi"

    path p0 = { mix }
    path p1 = { globalhitsanalyze & globaldigisanalyze & globalrechitsanalyze }
    path p2 = { trackerSimValid & muonSimValid } 
    path p3 = { MEtoEDMConverter }

    endpath outpath = { o1 }

    schedule = { p0, p1, p2, p3, outpath }

}		
